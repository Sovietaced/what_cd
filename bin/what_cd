#!/usr/bin/env ruby

begin
  require 'rubygems'
rescue LoadError
  # no rubygems to load, so we fail silently
end

require 'escort'
require '../lib/what_cd/version'
require '../lib/what_cd/commands/clean_command'


Escort::App.create do |app|
  app.version WhatCD::VERSION
  app.summary "Useful What.CD tools"

  app.command :clean  do |command|
    command.summary "Clean files in a directory per What.CD spec"
    command.description "Clean"

    command.options do |opts|
      opts.opt :option1, "Option1 for command1", :short => '-o', :long => '--option1', :type => :string, :default => "option 1 command 1"
      opts.opt :flag_for_command1, "Flag for command 1", :short => :none, :long => '--flag-for-command1', :type => :boolean

    end

    command.action do |options, arguments|
      Escort::CleanCommand.new(options, arguments).execute
    end
  end
end